create or replace PROCEDURE HRIS_MIG_SERVICE_TYPE
AS
V_SERVICE_TYPE_ID NUMBER;
V_STATUS CHAR(1 BYTE);
BEGIN


FOR V_SERVICE_TYPE_LIST IN (SELECT * FROM  HR_EMPLOYEE_TYPE_CODE ORDER BY EMPLOYEE_TYPE_CODE)
LOOP

BEGIN
SELECT SERVICE_TYPE_ID INTO V_SERVICE_TYPE_ID FROM HRIS_SERVICE_TYPES WHERE SERVICE_TYPE_ID=V_SERVICE_TYPE_LIST.EMPLOYEE_TYPE_CODE;
EXCEPTION
  WHEN NO_DATA_FOUND THEN
BEGIN
DBMS_OUTPUT.PUT_LINE('TO BE INSERTED');
IF(V_SERVICE_TYPE_LIST.DELETED_FLAG='N') THEN
V_STATUS:='E';
ELSE
V_STATUS:='D';
END IF;

INSERT INTO HRIS_SERVICE_TYPES
(SERVICE_TYPE_ID,SERVICE_TYPE_CODE,SERVICE_TYPE_NAME,CREATED_DT,STATUS)
VALUES
(V_SERVICE_TYPE_LIST.EMPLOYEE_TYPE_CODE,
V_SERVICE_TYPE_LIST.EMPLOYEE_TYPE_CODE,
V_SERVICE_TYPE_LIST.EMPLOYEE_TYPE_EDESC,
TRUNC(SYSDATE),
V_STATUS
);



END;
END;





END LOOP;
END;